<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="#!/">
        <img src="images/logo.png" width="40" height="40" alt="logo">
    </a>
    <a class="navbar-brand" href="#!/">Crédit de l'écureuil</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div ng-if="!vm.user">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#!/">Accueil<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/register">Inscription<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/registerpro" style="color:yellow;">Inscription Pro<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/login">Connexion<span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
        <div ng-if="vm.user.isAdmin">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#!/">Accueil<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Gestion des comptes
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#!/consultation_admin">Consultation</a>
                        <a class="dropdown-item" href="#!/virement_admin">Virement</a>
                        <a class="dropdown-item" href="#!/create_account_admin">Ouvrir un nouveau livret</a>
                    </div>
                </li>
                <li class="nav-item active dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Messagerie
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="envoyer_message.htm">Envoyer un message</a>
                        <a class="dropdown-item" href="consulter_messagerie.htm">Consulter la messagerie</a>
                    </div>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/notifications">Notifications<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/disconnect">Deconnexion<span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
        <div ng-if="!vm.user.isAdmin && vm.user">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#!/">Accueil<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/profil">Profil<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Gestion des comptes
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#!/consultation">Consultation</a>
                        <a class="dropdown-item" href="#!/virement">Virement</a>
                        <a class="dropdown-item" href="#!/create_account">Ouvrir un nouveau livret</a>
                        <a class="dropdown-item" href="#!/create_linked_account">Ouvrir un compte joint</a>
                    </div>
                </li>
                <div ng-if="vm.user.isPro">
                    <li class="nav-item active">
                        <a class="nav-link" href="#!/ordre_bourse">Ordre en bourse<span class="sr-only">(current)</span></a>
                    </li>
                </div>
                <li class="nav-item active dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Messagerie
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#!/envoyer_message">Envoyer un message</a>
                        <a class="dropdown-item" href="#!/consulter_messagerie">Consulter la messagerie</a>
                    </div>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/notifications">Notifications<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#!/disconnect">Deconnexion<span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
    </div>
</nav>

{{vm.fillFields()}}

<div class="container">
    <div id="login-row" class="row justify-content-center align-items-center">
        <div id="login-column" class="col-md-6">
            <div class="login-box col-md-12">
                <form id="login-form" class="form" ng-submit="vm.updateProfile()" role="form">
                    <h3 class="text-center text-info">Modifier le profil</h3>
                    <div class="form-group mb-3">
                        <label for="email" class="text-info">Email:</label>
                        <p class="form-control-static">{{vm.user.username}}</p>
                    </div>
                    <div class="form-row mb-3">
                        <div class="col-md-6">
                            <label for="text" class="text-info">Nom:</label>
                            <input type="text" class="form-control" name="nom" id="nom" ng-model="vm.nom" value="{{vm.user.nom}}">
                        </div>
                        <div class="col-md-6">
                            <label for="text" class="text-info">Prenom:</label>
                            <input type="text" class="form-control" name="prenom" id="prenom" ng-model="vm.prenom" value="{{vm.user.prenom}}">
                        </div>
                    </div>
                    <div class="form-row mb-3" ng-if="vm.user.isPro === true">
                        <div class="col-md-6">
                            <label for="siret" class="text-info">SIRET:</label>
                            <p class="form-control-static" id="siret">{{vm.user.siret}}</p>
                        </div>
                        <div class="col-md-6">
                            <label for="text" class="text-info">Entreprise:</label>
                            <input type="text" class="form-control" name="company" id="company" ng-model="vm.company" value="{{vm.user.entreprise}}">
                        </div>
                    </div>
                    <div class="form-group mb-3">
                        <label for="password" class="text-info">Mot de passe:</label>
                        <input type="password" class="form-control" name="password" id="password" ng-model="vm.password" value="{{vm.user.password}}">
                    </div>
                    <div class="form-group mb-3">
                        <label for="password" class="text-info">Confirmation:</label>
                        <input type="password" class="form-control" name="password_confirmation" id="password_confirmation" ng-model="vm.password_confirmation" value="{{vm.user.password}}">
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label"></label>
                        <div class="col-md-8">
                          <input class="btn btn-primary" value="Sauvegarder" type="submit">
                          <span></span>
                          <input class="btn btn-default" value="Annuler" type="reset">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
